apply from: new File("./dependencies.gradle")

subprojects {
  apply plugin: "java"
  buildscript {
    repositories {
      maven {
        url "https://maven.global.square/artifactory/square-public"
      }
      mavenCentral()
      jcenter()
    }

    dependencies {
      classpath dep.kotlinGradlePlugin
      classpath dep.wireCompiler
      classpath dep.junitGradlePlugin
      classpath dep.shadowJarPlugin
      classpath dep.mavenPublishGradlePlugin
    }
  }

  repositories {
    maven {
      url "https://maven.global.square/artifactory/square-public"
    }
    mavenCentral()
    jcenter()
  }
  dependencies {
    testImplementation dep.junitApi
    testRuntimeOnly dep.junitEngine
  }
  test {
    useJUnitPlatform()
    testLogging {
      events "started", "passed", "skipped", "failed"
      exceptionFormat = 'full'
      showExceptions = true
    }
  }
}

